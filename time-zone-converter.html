<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time Zone Converter | QuickPDFTool</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-blue: #0066ff;
            --primary-blue-light: #e6f0ff;
            --primary-blue-dark: #0052d4;
            --white: #ffffff;
            --light-gray: #f5f7fa;
            --medium-gray: #e1e5eb;
            --dark-gray: #6c757d;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --border-radius: 10px;
            --box-shadow: 0 4px 12px rgba(0, 102, 255, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--light-gray);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .logo i {
            color: var(--primary-blue);
            font-size: 2.2rem;
        }

        h1 {
            color: var(--primary-blue);
            font-size: 2.5rem;
            margin-bottom: 8px;
        }

        .subtitle {
            color: var(--dark-gray);
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto;
        }

        .converter-section {
            background-color: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
            margin-bottom: 30px;
        }

        .converter-header {
            background-color: var(--primary-blue);
            color: var(--white);
            padding: 15px 20px;
        }

        .converter-header h2 {
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .converter-header i {
            font-size: 1.2rem;
        }

        .converter-container {
            padding: 30px;
        }

        .timezone-selectors {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 30px;
            align-items: center;
            margin-bottom: 30px;
        }

        @media (max-width: 992px) {
            .timezone-selectors {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        .timezone-box {
            background-color: var(--light-gray);
            border-radius: var(--border-radius);
            padding: 25px;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .timezone-box.active {
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.1);
        }

        .timezone-label {
            display: block;
            color: var(--dark-gray);
            margin-bottom: 15px;
            font-weight: 600;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .timezone-select {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--medium-gray);
            border-radius: var(--border-radius);
            font-size: 16px;
            outline: none;
            transition: var(--transition);
            background-color: var(--white);
            cursor: pointer;
            margin-bottom: 15px;
        }

        .timezone-select:focus {
            border-color: var(--primary-blue);
        }

        .time-display {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--primary-blue);
            margin: 10px 0;
            font-family: 'Courier New', monospace;
        }

        .date-display {
            color: var(--dark-gray);
            font-size: 1rem;
            font-weight: 500;
        }

        .swap-button-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .swap-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--primary-blue);
            color: var(--white);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            transition: var(--transition);
            box-shadow: var(--box-shadow);
        }

        .swap-button:hover {
            background-color: var(--primary-blue-dark);
            transform: rotate(180deg) scale(1.1);
        }

        .time-input-section {
            background-color: var(--light-gray);
            border-radius: var(--border-radius);
            padding: 25px;
            margin-bottom: 30px;
        }

        .time-input-label {
            display: block;
            color: var(--dark-gray);
            margin-bottom: 15px;
            font-weight: 600;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .time-input-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .time-input-group {
            display: flex;
            flex-direction: column;
        }

        .input-label {
            color: var(--dark-gray);
            margin-bottom: 8px;
            font-weight: 500;
            font-size: 0.95rem;
        }

        .time-input {
            padding: 15px;
            border: 2px solid var(--medium-gray);
            border-radius: var(--border-radius);
            font-size: 16px;
            outline: none;
            transition: var(--transition);
            background-color: var(--white);
        }

        .time-input:focus {
            border-color: var(--primary-blue);
        }

        .buttons-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: var(--transition);
            flex: 1;
            min-width: 160px;
        }

        .btn-primary {
            background-color: var(--primary-blue);
            color: var(--white);
        }

        .btn-primary:hover {
            background-color: var(--primary-blue-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 102, 255, 0.2);
        }

        .btn-secondary {
            background-color: var(--medium-gray);
            color: #333;
        }

        .btn-secondary:hover {
            background-color: #d1d9e6;
            transform: translateY(-2px);
        }

        .btn-success {
            background-color: var(--success-color);
            color: var(--white);
        }

        .btn-success:hover {
            background-color: #218838;
            transform: translateY(-2px);
        }

        .popular-timezones {
            background-color: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            margin-bottom: 30px;
        }

        .popular-timezones h3 {
            color: var(--primary-blue);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .popular-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .popular-option {
            padding: 15px;
            border: 2px solid var(--medium-gray);
            border-radius: var(--border-radius);
            background-color: var(--white);
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }

        .popular-option:hover {
            border-color: var(--primary-blue);
            transform: translateY(-2px);
            background-color: var(--primary-blue-light);
        }

        .popular-name {
            font-weight: 600;
            color: var(--primary-blue);
            margin-bottom: 5px;
        }

        .popular-time {
            font-family: 'Courier New', monospace;
            color: var(--dark-gray);
            font-size: 0.9rem;
        }

        .results-section {
            background-color: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            margin-bottom: 30px;
        }

        .results-section h3 {
            color: var(--primary-blue);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .results-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .result-card {
            background-color: var(--light-gray);
            border-radius: var(--border-radius);
            padding: 20px;
            border-left: 4px solid var(--primary-blue);
        }

        .result-label {
            color: var(--dark-gray);
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .result-value {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--primary-blue);
            font-family: 'Courier New', monospace;
        }

        .time-difference {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-left: 10px;
        }

        .time-difference.positive {
            background-color: rgba(40, 167, 69, 0.1);
            color: var(--success-color);
        }

        .time-difference.negative {
            background-color: rgba(220, 53, 69, 0.1);
            color: #dc3545;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: var(--dark-gray);
            font-size: 0.9rem;
            border-top: 1px solid var(--medium-gray);
        }

        .copy-notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--primary-blue);
            color: white;
            padding: 12px 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .copy-notification.show {
            opacity: 1;
        }

        .info-section {
            background-color: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            margin-top: 30px;
        }

        .info-section h3 {
            color: var(--primary-blue);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        .info-item {
            padding: 20px;
            background-color: var(--light-gray);
            border-radius: var(--border-radius);
        }

        .info-item h4 {
            color: var(--primary-blue);
            margin-bottom: 10px;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .current-time-card {
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-blue-dark));
            color: var(--white);
            border-radius: var(--border-radius);
            padding: 25px;
            text-align: center;
            margin-bottom: 25px;
        }

        .current-time-label {
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 10px;
        }

        .current-time-value {
            font-size: 2.5rem;
            font-weight: 700;
            font-family: 'Courier New', monospace;
            margin-bottom: 5px;
        }

        .current-date-value {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .buttons-container {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .time-input-container {
                grid-template-columns: 1fr;
            }
            
            .popular-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .results-container {
                grid-template-columns: 1fr;
            }
            
            .timezone-selectors {
                grid-template-columns: 1fr;
            }
            
            .swap-button-container {
                order: 3;
            }
            
            .swap-button {
                transform: rotate(90deg);
            }
            
            .swap-button:hover {
                transform: rotate(270deg) scale(1.1);
            }
        }

        .timezone-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: var(--dark-gray);
            margin-top: 10px;
        }

        .utc-offset {
            background-color: rgba(0, 102, 255, 0.1);
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: var(--primary-blue);
        }

        .daylight-saving {
            background-color: rgba(255, 193, 7, 0.1);
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: var(--warning-color);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-globe-americas"></i>
                <h1>Time Zone Converter</h1>
            </div>
            <p class="subtitle">Convert times between different time zones instantly. Perfect for scheduling meetings, calls, or travel across the world.</p>
        </header>

        <main>
            <div class="current-time-card">
                <div class="current-time-label">Current Local Time</div>
                <div class="current-time-value" id="currentTime">00:00:00</div>
                <div class="current-date-value" id="currentDate">January 1, 2023</div>
            </div>

            <div class="converter-section">
                <div class="converter-header">
                    <h2><i class="fas fa-exchange-alt"></i> Time Zone Converter</h2>
                </div>
                <div class="converter-container">
                    <div class="timezone-selectors">
                        <div class="timezone-box active" id="fromTimezoneBox">
                            <label class="timezone-label"><i class="fas fa-map-marker-alt"></i> From Time Zone</label>
                            <select class="timezone-select" id="fromTimezone">
                                <!-- Options will be populated by JavaScript -->
                            </select>
                            <div class="time-display" id="fromTimeDisplay">00:00:00</div>
                            <div class="date-display" id="fromDateDisplay">January 1, 2023</div>
                            <div class="timezone-info">
                                <span class="utc-offset" id="fromUtcOffset">UTC+00:00</span>
                                <span class="daylight-saving" id="fromDaylightSaving">Standard Time</span>
                            </div>
                        </div>
                        
                        <div class="swap-button-container">
                            <button class="swap-button" id="swapButton">
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                        </div>
                        
                        <div class="timezone-box" id="toTimezoneBox">
                            <label class="timezone-label"><i class="fas fa-flag-checkered"></i> To Time Zone</label>
                            <select class="timezone-select" id="toTimezone">
                                <!-- Options will be populated by JavaScript -->
                            </select>
                            <div class="time-display" id="toTimeDisplay">00:00:00</div>
                            <div class="date-display" id="toDateDisplay">January 1, 2023</div>
                            <div class="timezone-info">
                                <span class="utc-offset" id="toUtcOffset">UTC+00:00</span>
                                <span class="daylight-saving" id="toDaylightSaving">Standard Time</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="time-input-section">
                        <label class="time-input-label"><i class="fas fa-clock"></i> Set Time to Convert</label>
                        <div class="time-input-container">
                            <div class="time-input-group">
                                <label class="input-label">Date</label>
                                <input type="date" class="time-input" id="inputDate" value="">
                            </div>
                            <div class="time-input-group">
                                <label class="input-label">Time</label>
                                <input type="time" class="time-input" id="inputTime" value="12:00">
                            </div>
                            <div class="time-input-group">
                                <label class="input-label">AM/PM</label>
                                <select class="time-input" id="inputAmPm">
                                    <option value="AM">AM</option>
                                    <option value="PM">PM</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="buttons-container">
                            <button class="btn btn-primary" id="convertBtn">
                                <i class="fas fa-sync-alt"></i> Convert Time
                            </button>
                            <button class="btn btn-secondary" id="useCurrentBtn">
                                <i class="fas fa-history"></i> Use Current Time
                            </button>
                            <button class="btn btn-success" id="copyBtn">
                                <i class="fas fa-copy"></i> Copy Results
                            </button>
                            <button class="btn btn-secondary" id="clearBtn">
                                <i class="fas fa-broom"></i> Clear All
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="popular-timezones">
                <h3><i class="fas fa-star"></i> Popular Time Zones</h3>
                <div class="popular-grid" id="popularTimezones">
                    <!-- Popular time zones will be populated by JavaScript -->
                </div>
            </div>

            <div class="results-section">
                <h3><i class="fas fa-info-circle"></i> Conversion Details</h3>
                <div class="results-container">
                    <div class="result-card">
                        <div class="result-label">Time Difference</div>
                        <div class="result-value" id="timeDifference">0 hours</div>
                    </div>
                    <div class="result-card">
                        <div class="result-label">Day Difference</div>
                        <div class="result-value" id="dayDifference">Same day</div>
                    </div>
                    <div class="result-card">
                        <div class="result-label">Conversion Date</div>
                        <div class="result-value" id="conversionDate">January 1, 2023</div>
                    </div>
                </div>
            </div>

            <div class="info-section">
                <h3><i class="fas fa-lightbulb"></i> About Time Zones</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <h4><i class="fas fa-globe"></i> What are Time Zones?</h4>
                        <p>Time zones are regions of the Earth that have the same standard time. There are 24 time zones, each roughly 15 degrees of longitude apart, corresponding to one hour of time difference.</p>
                    </div>
                    <div class="info-item">
                        <h4><i class="fas fa-sun"></i> Daylight Saving Time</h4>
                        <p>Many regions adjust their clocks forward by one hour during summer months to extend evening daylight. This tool automatically accounts for DST where applicable.</p>
                    </div>
                    <div class="info-item">
                        <h4><i class="fas fa-clock"></i> UTC Reference</h4>
                        <p>Coordinated Universal Time (UTC) is the primary time standard by which the world regulates clocks and time. All time zones are expressed as offsets from UTC.</p>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>QuickPDFTool Time Zone Converter &copy; <span id="currentYear"></span> | Part of the QuickPDFTool Utility Suite</p>
        </footer>
    </div>

    <div class="copy-notification" id="copyNotification">
        <i class="fas fa-check-circle"></i> <span id="notificationMessage">Conversion results copied!</span>
    </div>

    <script>
        // DOM Elements
        const fromTimezone = document.getElementById('fromTimezone');
        const toTimezone = document.getElementById('toTimezone');
        const fromTimeDisplay = document.getElementById('fromTimeDisplay');
        const toTimeDisplay = document.getElementById('toTimeDisplay');
        const fromDateDisplay = document.getElementById('fromDateDisplay');
        const toDateDisplay = document.getElementById('toDateDisplay');
        const fromUtcOffset = document.getElementById('fromUtcOffset');
        const toUtcOffset = document.getElementById('toUtcOffset');
        const fromDaylightSaving = document.getElementById('fromDaylightSaving');
        const toDaylightSaving = document.getElementById('toDaylightSaving');
        const inputDate = document.getElementById('inputDate');
        const inputTime = document.getElementById('inputTime');
        const inputAmPm = document.getElementById('inputAmPm');
        const convertBtn = document.getElementById('convertBtn');
        const useCurrentBtn = document.getElementById('useCurrentBtn');
        const copyBtn = document.getElementById('copyBtn');
        const clearBtn = document.getElementById('clearBtn');
        const swapButton = document.getElementById('swapButton');
        const fromTimezoneBox = document.getElementById('fromTimezoneBox');
        const toTimezoneBox = document.getElementById('toTimezoneBox');
        const popularTimezones = document.getElementById('popularTimezones');
        const timeDifference = document.getElementById('timeDifference');
        const dayDifference = document.getElementById('dayDifference');
        const conversionDate = document.getElementById('conversionDate');
        const currentTime = document.getElementById('currentTime');
        const currentDate = document.getElementById('currentDate');
        const copyNotification = document.getElementById('copyNotification');
        const notificationMessage = document.getElementById('notificationMessage');

        // Time zone data
        const timeZones = [
            { id: 'utc', name: 'UTC', city: 'Coordinated Universal Time', offset: 0, dst: false },
            { id: 'london', name: 'GMT', city: 'London, United Kingdom', offset: 0, dst: true },
            { id: 'newyork', name: 'EST', city: 'New York, United States', offset: -5, dst: true },
            { id: 'chicago', name: 'CST', city: 'Chicago, United States', offset: -6, dst: true },
            { id: 'denver', name: 'MST', city: 'Denver, United States', offset: -7, dst: true },
            { id: 'losangeles', name: 'PST', city: 'Los Angeles, United States', offset: -8, dst: true },
            { id: 'toronto', name: 'EST', city: 'Toronto, Canada', offset: -5, dst: true },
            { id: 'mexicocity', name: 'CST', city: 'Mexico City, Mexico', offset: -6, dst: false },
            { id: 'sydney', name: 'AEST', city: 'Sydney, Australia', offset: 10, dst: true },
            { id: 'tokyo', name: 'JST', city: 'Tokyo, Japan', offset: 9, dst: false },
            { id: 'beijing', name: 'CST', city: 'Beijing, China', offset: 8, dst: false },
            { id: 'singapore', name: 'SGT', city: 'Singapore', offset: 8, dst: false },
            { id: 'mumbai', name: 'IST', city: 'Mumbai, India', offset: 5.5, dst: false },
            { id: 'dubai', name: 'GST', city: 'Dubai, UAE', offset: 4, dst: false },
            { id: 'moscow', name: 'MSK', city: 'Moscow, Russia', offset: 3, dst: false },
            { id: 'paris', name: 'CET', city: 'Paris, France', offset: 1, dst: true },
            { id: 'berlin', name: 'CET', city: 'Berlin, Germany', offset: 1, dst: true },
            { id: 'capetown', name: 'SAST', city: 'Cape Town, South Africa', offset: 2, dst: false },
            { id: 'riodejaneiro', name: 'BRT', city: 'Rio de Janeiro, Brazil', offset: -3, dst: false },
            { id: 'buenosaires', name: 'ART', city: 'Buenos Aires, Argentina', offset: -3, dst: false }
        ];

        // Popular time zones for quick selection
        const popularZones = ['newyork', 'london', 'tokyo', 'sydney', 'paris', 'dubai', 'singapore', 'losangeles'];

        // App State
        let currentFromTimezone = 'newyork';
        let currentToTimezone = 'london';
        let currentDateTime = new Date();
        let isDaylightSaving = false;

        // Set current year in footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // Initialize
        function init() {
            // Set current date in date input
            const today = new Date();
            const formattedDate = today.toISOString().split('T')[0];
            inputDate.value = formattedDate;
            
            // Populate time zone selectors
            populateTimeZoneSelectors();
            
            // Set up event listeners
            convertBtn.addEventListener('click', convertTime);
            useCurrentBtn.addEventListener('click', useCurrentTime);
            copyBtn.addEventListener('click', copyResults);
            clearBtn.addEventListener('click', clearAll);
            swapButton.addEventListener('click', swapTimeZones);
            
            fromTimezone.addEventListener('change', function() {
                currentFromTimezone = this.value;
                convertTime();
            });
            
            toTimezone.addEventListener('change', function() {
                currentToTimezone = this.value;
                convertTime();
            });
            
            inputDate.addEventListener('change', convertTime);
            inputTime.addEventListener('change', convertTime);
            inputAmPm.addEventListener('change', convertTime);
            
            // Set up popular time zones
            setupPopularTimeZones();
            
            // Set up current time display
            updateCurrentTime();
            setInterval(updateCurrentTime, 1000);
            
            // Initial conversion
            convertTime();
        }

        // Populate time zone selectors
        function populateTimeZoneSelectors() {
            timeZones.forEach(zone => {
                const optionFrom = document.createElement('option');
                optionFrom.value = zone.id;
                optionFrom.textContent = `${zone.name} - ${zone.city}`;
                if (zone.id === currentFromTimezone) optionFrom.selected = true;
                fromTimezone.appendChild(optionFrom);
                
                const optionTo = document.createElement('option');
                optionTo.value = zone.id;
                optionTo.textContent = `${zone.name} - ${zone.city}`;
                if (zone.id === currentToTimezone) optionTo.selected = true;
                toTimezone.appendChild(optionTo);
            });
        }

        // Set up popular time zones
        function setupPopularTimeZones() {
            popularZones.forEach(zoneId => {
                const zone = timeZones.find(z => z.id === zoneId);
                if (!zone) return;
                
                const popularOption = document.createElement('div');
                popularOption.className = 'popular-option';
                popularOption.setAttribute('data-timezone', zone.id);
                
                // Calculate current time in this zone
                const now = new Date();
                const zoneTime = calculateTimeInTimezone(now, zone);
                
                popularOption.innerHTML = `
                    <div class="popular-name">${zone.city}</div>
                    <div class="popular-time">${zoneTime.time}</div>
                    <div style="font-size: 0.8rem; color: var(--dark-gray);">${zone.name} ${formatOffset(zone.offset)}</div>
                `;
                
                popularOption.addEventListener('click', function() {
                    // Toggle between from and to selection
                    if (fromTimezoneBox.classList.contains('active')) {
                        fromTimezone.value = zone.id;
                        currentFromTimezone = zone.id;
                        fromTimezoneBox.classList.remove('active');
                        toTimezoneBox.classList.add('active');
                    } else {
                        toTimezone.value = zone.id;
                        currentToTimezone = zone.id;
                        toTimezoneBox.classList.add('active');
                        fromTimezoneBox.classList.remove('active');
                    }
                    convertTime();
                });
                
                popularTimezones.appendChild(popularOption);
            });
        }

        // Convert time
        function convertTime() {
            // Get input values
            const dateValue = inputDate.value;
            const timeValue = inputTime.value;
            const amPmValue = inputAmPm.value;
            
            // Parse date and time
            let [year, month, day] = dateValue.split('-').map(Number);
            let [hours, minutes] = timeValue.split(':').map(Number);
            
            // Adjust for AM/PM
            if (amPmValue === 'PM' && hours < 12) {
                hours += 12;
            } else if (amPmValue === 'AM' && hours === 12) {
                hours = 0;
            }
            
            // Create date object
            currentDateTime = new Date(year, month - 1, day, hours, minutes);
            
            // Get time zones
            const fromZone = timeZones.find(z => z.id === currentFromTimezone);
            const toZone = timeZones.find(z => z.id === currentToTimezone);
            
            if (!fromZone || !toZone) return;
            
            // Calculate times
            const fromTime = calculateTimeInTimezone(currentDateTime, fromZone);
            const toTime = calculateTimeInTimezone(currentDateTime, toZone);
            
            // Update displays
            updateTimezoneDisplay(fromTimeDisplay, fromDateDisplay, fromUtcOffset, fromDaylightSaving, fromTime, fromZone);
            updateTimezoneDisplay(toTimeDisplay, toDateDisplay, toUtcOffset, toDaylightSaving, toTime, toZone);
            
            // Update results section
            updateConversionResults(fromZone, toZone, fromTime, toTime);
        }

        // Calculate time in a specific timezone
        function calculateTimeInTimezone(date, timezone) {
            // Simple calculation based on offset
            // In a real application, you would use a proper timezone library
            const offsetHours = timezone.offset;
            
            // Create a new date adjusted by the timezone offset
            const utcDate = new Date(date.getTime());
            const adjustedDate = new Date(utcDate.getTime() + (offsetHours * 60 * 60 * 1000));
            
            // Check if it's daylight saving time (simplified logic)
            const month = adjustedDate.getMonth();
            isDaylightSaving = timezone.dst && (month >= 3 && month <= 9);
            
            if (isDaylightSaving) {
                adjustedDate.setHours(adjustedDate.getHours() + 1);
            }
            
            // Format time
            const hours = adjustedDate.getHours();
            const minutes = adjustedDate.getMinutes();
            const seconds = adjustedDate.getSeconds();
            
            // Format date
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const formattedDate = adjustedDate.toLocaleDateString('en-US', options);
            
            // Format time with AM/PM
            const amPm = hours >= 12 ? 'PM' : 'AM';
            const displayHours = hours % 12 || 12;
            const timeString = `${displayHours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')} ${amPm}`;
            
            return {
                time: timeString,
                date: formattedDate,
                datetime: adjustedDate,
                isDST: isDaylightSaving,
                offset: offsetHours + (isDaylightSaving ? 1 : 0)
            };
        }

        // Update timezone display
        function updateTimezoneDisplay(timeElement, dateElement, offsetElement, dstElement, timeData, timezone) {
            timeElement.textContent = timeData.time;
            dateElement.textContent = timeData.date;
            
            // Format offset
            const offset = timeData.offset;
            const offsetSign = offset >= 0 ? '+' : '';
            offsetElement.textContent = `UTC${offsetSign}${offset}:00`;
            
            // Update DST indicator
            if (timeData.isDST) {
                dstElement.textContent = 'Daylight Saving Time';
                dstElement.style.display = 'inline-block';
            } else {
                dstElement.style.display = 'none';
            }
        }

        // Update conversion results
        function updateConversionResults(fromZone, toZone, fromTime, toTime) {
            // Calculate time difference
            const diffHours = toZone.offset - fromZone.offset;
            const diffSign = diffHours >= 0 ? '+' : '';
            
            timeDifference.innerHTML = `${diffSign}${diffHours} hours`;
            
            // Add visual indicator
            const diffIndicator = document.createElement('span');
            diffIndicator.className = `time-difference ${diffHours >= 0 ? 'positive' : 'negative'}`;
            diffIndicator.textContent = `${diffSign}${diffHours}h`;
            timeDifference.appendChild(diffIndicator);
            
            // Calculate day difference
            const fromDay = fromTime.datetime.getDate();
            const toDay = toTime.datetime.getDate();
            
            if (toDay > fromDay) {
                dayDifference.textContent = `+${toDay - fromDay} day(s) ahead`;
            } else if (toDay < fromDay) {
                dayDifference.textContent = `${fromDay - toDay} day(s) behind`;
            } else {
                dayDifference.textContent = 'Same day';
            }
            
            // Update conversion date
            conversionDate.textContent = toTime.date;
        }

        // Use current time
        function useCurrentTime() {
            const now = new Date();
            
            // Set date
            const formattedDate = now.toISOString().split('T')[0];
            inputDate.value = formattedDate;
            
            // Set time
            let hours = now.getHours();
            const minutes = now.getMinutes();
            const amPm = hours >= 12 ? 'PM' : 'AM';
            
            hours = hours % 12 || 12;
            inputTime.value = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;
            inputAmPm.value = amPm;
            
            convertTime();
            showNotification('Using current time', true);
        }

        // Swap time zones
        function swapTimeZones() {
            // Swap values
            [currentFromTimezone, currentToTimezone] = [currentToTimezone, currentFromTimezone];
            
            // Update select elements
            fromTimezone.value = currentFromTimezone;
            toTimezone.value = currentToTimezone;
            
            // Convert
            convertTime();
            showNotification('Time zones swapped', true);
        }

        // Copy results
        function copyResults() {
            const fromZone = timeZones.find(z => z.id === currentFromTimezone);
            const toZone = timeZones.find(z => z.id === currentToTimezone);
            
            const results = `Time Zone Conversion
From: ${fromZone.city} (${fromZone.name})
To: ${toZone.city} (${toZone.name})
Input Time: ${fromTimeDisplay.textContent} ${fromDateDisplay.textContent}
Converted Time: ${toTimeDisplay.textContent} ${toDateDisplay.textContent}
Time Difference: ${timeDifference.textContent}
Day Difference: ${dayDifference.textContent}

Generated by QuickPDFTool Time Zone Converter`;
            
            copyToClipboard(results);
            showNotification('Conversion results copied to clipboard!', true);
        }

        // Clear all
        function clearAll() {
            // Reset to default time zones
            currentFromTimezone = 'newyork';
            currentToTimezone = 'london';
            fromTimezone.value = currentFromTimezone;
            toTimezone.value = currentToTimezone;
            
            // Reset to current time
            useCurrentTime();
            
            showNotification('All inputs cleared!', true);
        }

        // Update current time display
        function updateCurrentTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', { hour12: false });
            const dateString = now.toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            currentTime.textContent = timeString;
            currentDate.textContent = dateString;
        }

        // Format offset for display
        function formatOffset(offset) {
            const sign = offset >= 0 ? '+' : '';
            return `UTC${sign}${offset}`;
        }

        // Copy text to clipboard
        function copyToClipboard(text) {
            // Try using modern clipboard API first
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text);
            } else {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                textArea.style.position = 'fixed';
                textArea.style.left = '-999999px';
                textArea.style.top = '-999999px';
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                try {
                    document.execCommand('copy');
                } catch (err) {
                    console.error('Failed to copy: ', err);
                }
                document.body.removeChild(textArea);
            }
        }

        // Show notification
        function showNotification(message, success) {
            notificationMessage.textContent = message;
            copyNotification.style.backgroundColor = success ? 'var(--primary-blue)' : 'var(--warning-color)';
            copyNotification.classList.add('show');
            
            setTimeout(() => {
                copyNotification.classList.remove('show');
            }, 3000);
        }

        // Initialize the tool when page loads
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>